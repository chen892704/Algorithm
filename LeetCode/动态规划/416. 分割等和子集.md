# 416. 分割等和子集
> 来源：力扣（LeetCode）
链接：https://leetcode.cn/problems/partition-equal-subset-sum/description/

给你一个 只包含正整数 的 非空 数组 nums 。请你判断是否可以将这个数组分割成两个子集，使得两个子集的元素和相等。

## 解题思路
### 动态规划
0-1 背包：
分割成两个子集的元素和相等 -> 两个子集元素和为总和 sum/2 -> 是否存在和为 sum/2 的子集

## 代码实现
时间复杂度 O(n)，空间复杂度 O(n)
```cpp
class Solution {
public:
    int n = 0;
    vector<vector<int> > memo;

    // 返回 nums 中前 i 个数，是否存在和为 j 的子集
    int dfs(vector<int>& nums, int i, int j) {
        if (i >= n) {
            return j == 0 ? 1 : 0; 
        }

        int &res = memo[i][j];
        if (res != -1) {
            return res;
        }

        // 剩余不足只能不选
        if (j < nums[i]) {
            res = dfs(nums, i+1, j);
        }
        // 选 or 不选
        else {
            res = dfs(nums, i+1, j-nums[i]) || dfs(nums, i+1, j); 
        }

        return res;
    }

    bool canPartition(vector<int>& nums) {
        int sum = 0;
        for (auto i : nums) {
            sum += i;
        }
        if (sum % 2 != 0) {
            return false;
        }
        
        // 0-1 背包：
        // 分割成两个子集的元素和相等 -> 两个子集元素和为总和 sum/2 -> 是否存在和为 sum/2 的子集
        n = nums.size();
        
        memo.resize(n+1, vector<int>(sum/2+1, -1));
        return dfs(nums, 0, sum/2);
    }
};
```
