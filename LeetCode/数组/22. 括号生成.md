# 22. 括号生成
> 来源：力扣（LeetCode）
链接：https://leetcode.cn/problems/generate-parentheses/description

数字 n 代表生成括号的对数，请你设计一个函数，用于能够生成所有可能的并且 有效的 括号组合。

## 解题思路
回溯，核心还是 选 or 不选

本题中每个步骤有两个分支，选左括号 or 选右括号，另外选择有一些前提
- 左括号的个数最多为 n, 若已经用了 n 个左括号, 后面只能填右括号
- 右括号的个数, 必须小于等于左括号, 才是一个合法的串
- 当左右括号都用完, 将当前分支结果写入集合

## 代码实现
```cpp
class Solution {
public:
    vector<string> ans;
    string cur = "";
    int left = 0, right = 0;

    void dfs(int n) {
        // 左右括号都已写完
        if (left + right == 2*n) {
            ans.push_back(cur);
            return;
        }

        // 左括号没用完
        if (left < n) {
            cur += "(";
            ++left;
            dfs(n); // 可选左括号, 选完回溯
            --left;
            cur.pop_back();
        }
        // 右括号不能比左括号多
        if (right < left) {
            cur += ")";
            ++right;
            dfs(n); // 可选右括号, 选完回溯
            --right;
            cur.pop_back();
        }
    }

    vector<string> generateParenthesis(int n) {
        dfs(n);
        return ans;
    }
};
```
